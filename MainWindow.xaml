<Window
    x:Class="ClassScoreApp_WinUI3.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="班级积分管理系统">

    <Window.SystemBackdrop>
        <MicaBackdrop/>
    </Window.SystemBackdrop>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- 自定义标题栏 -->
        <Grid x:Name="AppTitleBar" Grid.Row="0" Height="45">
            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="15,0">
                <Image Source="ms-appx:///Assets/StoreLogo.png" Width="16" Height="16"/>
                <TextBlock Text="班级优化大师 - WinUI3版" Margin="12,0" VerticalAlignment="Center" Style="{StaticResource CaptionTextBlockStyle}"/>
            </StackPanel>
        </Grid>

        <NavigationView Grid.Row="1" x:Name="RootNav" 
                IsBackButtonVisible="Collapsed"
                IsSettingsVisible="False"
                PaneDisplayMode="LeftCompact"
                SelectionChanged="RootNav_SelectionChanged">

            <!-- 1. 顶部菜单栏 -->
            <NavigationView.MenuItems>
                <NavigationViewItem x:Name="HomeItem" Content="主页" Icon="Home" Tag="HomePage"/>
            </NavigationView.MenuItems>

            <!-- 2. 底部固定菜单栏（修复了 Info 图标报错） -->
            <NavigationView.FooterMenuItems>
                <NavigationViewItem Content="关于" Tag="AboutPage">
                    <NavigationViewItem.Icon>
                        <!-- 这里使用图标代码，不会再报 XLS0431 错误 -->
                        <FontIcon Glyph="&#xE946;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
            </NavigationView.FooterMenuItems>

            <!-- 3. 内容显示区（所有页面都在这里面跳动） -->
            <Frame x:Name="ContentFrame"/>

        </NavigationView>
    </Grid>
</Window>